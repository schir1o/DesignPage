<!DOCTYPE html>

<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Video Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: #000;
        color: #fff;
        overflow-x: hidden;
    }

    /* Start Section */
    .intro {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        text-align: center;
        padding: 20px;
    }

    /* Animation Container */
    .scroll-container {
        position: relative;
        height: 400vh; /* Länge bestimmt Video-Geschwindigkeit */
    }

    /* Sticky Wrapper */
    .sticky-wrapper {
        position: sticky;
        top: 0;
        height: 100vh;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Video Container */
    .video-container {
        position: relative;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background: #000;
    }

    /* Video Element */
    #scroll-video {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        object-fit: cover;
    }

    /* Placeholder wenn kein Video */
    .video-placeholder {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #1a1a1a;
        border: 2px dashed #444;
    }

    .video-placeholder p {
        text-align: center;
        color: #666;
        max-width: 400px;
        padding: 20px;
    }

    /* Content Container */
    .content-container {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        pointer-events: none;
        background: #111;
        padding: 50px;
        transition: opacity 0.6s ease;
    }

    .content-wrapper {
        text-align: center;
        max-width: 800px;
    }

    .content-wrapper h2 {
        font-size: 3rem;
        margin-bottom: 20px;
    }

    /* Show content */
    .show-content .content-container {
        opacity: 1;
        pointer-events: auto;
    }

    .show-content #scroll-video,
    .show-content .video-placeholder {
        opacity: 0;
        transition: opacity 0.6s ease;
    }

    /* Next Section */
    .next-section {
        min-height: 100vh;
        background: #1a1a1a;
        padding: 100px 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
    }

    /* Progress */
    .progress {
        position: fixed;
        top: 0;
        left: 0;
        height: 3px;
        background: #6366f1;
        width: 0%;
        z-index: 100;
        transition: width 0.1s;
    }

    /* Loading indicator */
    .loading {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(99, 102, 241, 0.9);
        padding: 10px 20px;
        border-radius: 20px;
        font-size: 14px;
        z-index: 200;
        display: none;
    }
</style>
```

</head>
<body>
    <div class="progress"></div>
    <div class="loading">Video lädt...</div>

```
<section class="intro">
    <div>
        <h1>↓ Scrollen Sie nach unten ↓</h1>
        <p style="margin-top: 20px; font-size: 1rem; opacity: 0.7;">
            Auto-Öffnungs-Animation beim Scrollen
        </p>
    </div>
</section>

<section class="scroll-container">
    <div class="sticky-wrapper">
        <div class="video-container">
            <!-- Ihr Video hier -->
            <video id="scroll-video" muted preload="auto">
                <source src="video/car_open-2.mp4" type="video/mp4">
                <!-- Weitere Formate für bessere Kompatibilität -->
                <source src="video/car_open-2.webm" type="video/webm">
            </video>
            
            <!-- Placeholder wenn Video nicht lädt -->
            <div class="video-placeholder">
                <p>
                    <strong>Video Placeholder</strong><br><br>
                    Ersetzen Sie "video.mp4" mit dem Pfad zu Ihrem Video.<br><br>
                    Tipps:<br>
                    • Kurze Videos (5-10 Sek.) funktionieren am besten<br>
                    • MP4 oder WebM Format<br>
                    • Komprimiert für Web (unter 10MB)
                </p>
            </div>
        </div>
        
        <div class="content-container">
            <div class="content-wrapper">
                <h2>Einsteigen!</h2>
                <p>
                    Das Auto hat sich geöffnet und lädt Sie ein.
                    Perfekt für automobile Präsentationen oder Showrooms!
                </p>
            </div>
        </div>
    </div>
</section>

<section class="next-section">
    <div>
        <h2>Weitere Inhalte</h2>
        <p>Ihre Webseite geht hier normal weiter.</p>
    </div>
</section>

<script>
    const video = document.getElementById('scroll-video');
    const scrollContainer = document.querySelector('.scroll-container');
    const stickyWrapper = document.querySelector('.sticky-wrapper');
    const progress = document.querySelector('.progress');
    const loading = document.querySelector('.loading');
    const placeholder = document.querySelector('.video-placeholder');
    
    let videoReady = false;

    // Video Setup
    video.addEventListener('loadedmetadata', function() {
        videoReady = true;
        loading.style.display = 'none';
        placeholder.style.display = 'none';
        console.log('Video duration:', video.duration, 'seconds');
    });

    video.addEventListener('error', function() {
        console.log('Video konnte nicht geladen werden');
        loading.style.display = 'none';
        placeholder.style.display = 'flex';
    });

    // Show loading
    video.addEventListener('loadstart', function() {
        loading.style.display = 'block';
    });

    // Scroll handler
    window.addEventListener('scroll', () => {
        const containerTop = scrollContainer.offsetTop;
        const containerHeight = scrollContainer.offsetHeight;
        const windowHeight = window.innerHeight;
        const scrolled = window.scrollY;
        
        let scrollProgress = (scrolled - containerTop) / (containerHeight - windowHeight);
        scrollProgress = Math.max(0, Math.min(1, scrollProgress));
        
        // Progress bar
        progress.style.width = `${scrollProgress * 100}%`;
        
        if (scrollProgress > 0 && scrollProgress <= 1 && videoReady) {
            // Video bis 90% abspielen
            if (scrollProgress <= 0.9) {
                stickyWrapper.classList.remove('show-content');
                
                // Video-Zeit basierend auf Scroll
                const videoProgress = scrollProgress / 0.9;
                video.currentTime = video.duration * videoProgress;
            }
            // Bei 90% zum Content wechseln
            else {
                stickyWrapper.classList.add('show-content');
            }
        }
    });

    // Optional: Frame-by-Frame für smoothere Wiedergabe
    function updateVideoTime() {
        if (videoReady && video.paused) {
            video.play().then(() => {
                video.pause();
            }).catch(e => console.log('Autoplay prevented'));
        }
        requestAnimationFrame(updateVideoTime);
    }
    
    // Start frame updates
    updateVideoTime();
</script>
```

</body>
</html>