<!DOCTYPE html>

<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Video Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: #f5f5f5;
        color: #333;
        overflow-x: hidden;
    }

    /* Start Section */
    .intro {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        text-align: center;
        padding: 20px;
        background: #333;
        color: #fff;
    }

    /* Animation Container */
    .scroll-container {
        position: relative;
        height: 400vh; /* L√§nge bestimmt Video-Geschwindigkeit */
    }

    /* Sticky Wrapper */
    .sticky-wrapper {
        position: sticky;
        top: 0;
        height: 100vh;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Video Container */
    .video-container {
        position: relative;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background: #000;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Video Element */
    #scroll-video {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        object-fit: cover;
        /* iOS specific fixes */
        -webkit-transform: translate(-50%, -50%);
        -webkit-backface-visibility: hidden;
        -webkit-perspective: 1000;
    }

    /* Placeholder wenn kein Video */
    .video-placeholder {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #1a1a1a;
        border: 2px dashed #444;
    }

    .video-placeholder p {
        text-align: center;
        color: #666;
        max-width: 400px;
        padding: 20px;
    }

    /* Content Container */
    .content-container {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        pointer-events: none;
        background: #fff;
        padding: 50px;
        transition: opacity 0.6s ease;
    }

    .content-wrapper {
        text-align: center;
        max-width: 800px;
        color: #333;
    }

    .content-wrapper h2 {
        font-size: 3rem;
        margin-bottom: 20px;
        color: #222;
    }

    /* Show content */
    .show-content .content-container {
        opacity: 1;
        pointer-events: auto;
    }

    .show-content #scroll-video,
    .show-content .video-placeholder {
        opacity: 0;
        transition: opacity 0.6s ease;
    }

    /* Container */
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    /* Features Section */
    .features-section {
        padding: 100px 0;
        background: #fff;
    }

    .section-title {
        font-size: 3rem;
        text-align: center;
        margin-bottom: 20px;
        color: #333;
    }

    .section-subtitle {
        text-align: center;
        font-size: 1.2rem;
        color: #666;
        margin-bottom: 60px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 40px;
    }

    .feature-card {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        transition: all 0.3s ease;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(99, 102, 241, 0.2);
        border-color: #6366f1;
    }

    .feature-icon {
        font-size: 3rem;
        margin-bottom: 20px;
    }

    .feature-card h3 {
        font-size: 1.5rem;
        margin-bottom: 15px;
        color: #333;
    }

    .feature-card p {
        line-height: 1.6;
        color: #666;
    }

    /* Stats Section */
    .stats-section {
        padding: 80px 0;
        background: #f8f9fa;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 40px;
        text-align: center;
    }

    .stat h3 {
        font-size: 3.5rem;
        color: #6366f1;
        margin-bottom: 10px;
        font-weight: 700;
    }

    .stat p {
        font-size: 1.1rem;
        color: #666;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    /* CTA Section */
    .cta-section {
        padding: 100px 0;
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        text-align: center;
        color: white;
    }

    .cta-section h2 {
        font-size: 2.5rem;
        margin-bottom: 20px;
        color: white;
    }

    .cta-section p {
        font-size: 1.2rem;
        opacity: 0.9;
        margin-bottom: 40px;
    }

    .cta-buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .btn {
        display: inline-block;
        padding: 15px 40px;
        border-radius: 30px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .btn-primary {
        background: white;
        color: #6366f1;
    }

    .btn-primary:hover {
        background: #f8f9fa;
        transform: translateY(-2px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .btn-secondary {
        background: transparent;
        color: white;
        border: 2px solid white;
    }

    .btn-secondary:hover {
        background: white;
        color: #6366f1;
    }

    /* Footer */
    .footer {
        padding: 40px 0;
        background: #333;
        text-align: center;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .footer p {
        color: #999;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
        .section-title {
            font-size: 2rem;
        }
        
        .features-grid,
        .stats-grid {
            grid-template-columns: 1fr;
            gap: 30px;
        }
        
        .cta-buttons {
            flex-direction: column;
            align-items: center;
        }
        
        .btn {
            width: 100%;
            max-width: 300px;
        }
    }

    /* Progress */
    .progress {
        position: fixed;
        top: 0;
        left: 0;
        height: 3px;
        background: #6366f1;
        width: 0%;
        z-index: 100;
        transition: width 0.1s;
    }

    /* Loading indicator */
    .loading {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(99, 102, 241, 0.9);
        padding: 10px 20px;
        border-radius: 20px;
        font-size: 14px;
        z-index: 200;
        display: none;
        color: white;
    }
</style>
```

</head>
<body>
    <div class="progress"></div>
    <div class="loading">Video l√§dt...</div>

```
<section class="scroll-container">
    <div class="sticky-wrapper">
        <div class="video-container">
            <!-- Ihr Video hier -->
            <video id="scroll-video" muted preload="auto" playsinline webkit-playsinline x-webkit-airplay="deny">
                <source src="/DesignPage/video/car_open-2.mp4" type="video/mp4">
                <!-- Fallback f√ºr relative Pfade -->
                <source src="./video/car_open-2.mp4" type="video/mp4">
            </video>
            
            <!-- Placeholder wenn Video nicht l√§dt -->
            <div class="video-placeholder" style="display: none;">
                <p>
                    <strong>Video l√§dt...</strong><br><br>
                    Falls das Video nicht erscheint, √ºberpr√ºfen Sie Ihre Internetverbindung.
                </p>
            </div>
        </div>
        
        <div class="content-container">
            <div class="content-wrapper">
                <h2>Einsteigen!</h2>
                <p>
                    Das Auto hat sich ge√∂ffnet und l√§dt Sie ein.
                    Perfekt f√ºr automobile Pr√§sentationen oder Showrooms!
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section">
    <div class="container">
        <h2 class="section-title">Die Zukunft des Fahrens</h2>
        <p class="section-subtitle">Entdecken Sie revolution√§re Technologie und zeitloses Design</p>
        
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">‚ö°</div>
                <h3>Elektrische Kraft</h3>
                <p>0-100 km/h in 3,2 Sekunden. Reichweite bis zu 600km mit einer einzigen Ladung.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üéØ</div>
                <h3>Autopilot</h3>
                <p>Fortschrittliche Fahrassistenz f√ºr sicheres und entspanntes Reisen.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üåü</div>
                <h3>Premium Interieur</h3>
                <p>Handgefertigte Details und nachhaltige Materialien f√ºr ultimativen Komfort.</p>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section">
    <div class="container">
        <div class="stats-grid">
            <div class="stat">
                <h3>600km</h3>
                <p>Reichweite</p>
            </div>
            <div class="stat">
                <h3>15min</h3>
                <p>Schnellladung</p>
            </div>
            <div class="stat">
                <h3>5‚òÖ</h3>
                <p>Sicherheit</p>
            </div>
            <div class="stat">
                <h3>‚àû</h3>
                <p>Updates</p>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <h2>Bereit f√ºr Ihre Probefahrt?</h2>
        <p>Erleben Sie die Zukunft der Mobilit√§t hautnah</p>
        <div class="cta-buttons">
            <a href="#" class="btn btn-primary">Probefahrt buchen</a>
            <a href="#" class="btn btn-secondary">Konfigurator starten</a>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="container">
        <p>&copy; 2024 Future Mobility. Alle Rechte vorbehalten.</p>
    </div>
</footer>

<script>
    const video = document.getElementById('scroll-video');
    const scrollContainer = document.querySelector('.scroll-container');
    const stickyWrapper = document.querySelector('.sticky-wrapper');
    const progress = document.querySelector('.progress');
    const loading = document.querySelector('.loading');
    const placeholder = document.querySelector('.video-placeholder');
    
    let videoReady = false;

    // Video Setup with iOS fixes
    video.addEventListener('loadedmetadata', function() {
        videoReady = true;
        placeholder.style.display = 'none';
        console.log('Video geladen:', video.duration, 'Sekunden');
        
        // iOS Safari Fix: Force video to be ready
        video.play().then(() => {
            video.pause();
            video.currentTime = 0;
        }).catch(e => console.log('Autoplay blocked:', e));
    });

    video.addEventListener('error', function(e) {
        console.error('Video Fehler:', e);
        console.error('Video src:', video.currentSrc);
        placeholder.style.display = 'flex';
        
        // Debug info
        const debugInfo = `
            <strong>Video konnte nicht geladen werden</strong><br><br>
            Bitte √ºberpr√ºfen Sie Ihre Internetverbindung und laden Sie die Seite neu.
        `;
        placeholder.innerHTML = '<p style="padding: 20px;">' + debugInfo + '</p>';
    });

    // iOS/Safari Detection and Special Handling
    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
    
    if (isIOS || isSafari) {
        console.log('iOS/Safari detected - applying special video handling');
        
        // Preload hack for iOS
        video.load();
        
        // Touch event to enable video on iOS
        document.addEventListener('touchstart', function() {
            if (!videoReady && video.paused) {
                video.play().then(() => {
                    video.pause();
                    console.log('Video activated via touch');
                }).catch(e => console.log('Touch activation failed:', e));
            }
        }, { once: true });
    }

    // Optimized scroll handling
    let ticking = false;
    let lastKnownScrollPosition = 0;
    
    function updateVideoOnScroll() {
        const containerTop = scrollContainer.offsetTop;
        const containerHeight = scrollContainer.offsetHeight;
        const windowHeight = window.innerHeight;
        const scrolled = lastKnownScrollPosition;
        
        let scrollProgress = (scrolled - containerTop) / (containerHeight - windowHeight);
        scrollProgress = Math.max(0, Math.min(1, scrollProgress));
        
        // Progress bar
        progress.style.width = `${scrollProgress * 100}%`;
        
        if (scrollProgress > 0 && scrollProgress <= 1 && videoReady) {
            // Video bis 90% abspielen
            if (scrollProgress <= 0.9) {
                stickyWrapper.classList.remove('show-content');
                
                // Smooth video time update
                const videoProgress = scrollProgress / 0.9;
                const targetTime = video.duration * videoProgress;
                
                // Nur updaten wenn Unterschied gro√ü genug
                if (Math.abs(video.currentTime - targetTime) > 0.1) {
                    video.currentTime = targetTime;
                }
            }
            // Bei 90% zum Content wechseln
            else {
                stickyWrapper.classList.add('show-content');
            }
        }
        
        ticking = false;
    }
    
    // Throttled scroll handler
    window.addEventListener('scroll', () => {
        lastKnownScrollPosition = window.scrollY;
        
        if (!ticking) {
            window.requestAnimationFrame(updateVideoOnScroll);
            ticking = true;
        }
    });
    
    // Safari-specific fixes
    if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {
        video.addEventListener('loadeddata', function() {
            // Force Safari to preload frames
            video.currentTime = 0.1;
            video.currentTime = 0;
        });
    }
</script>
```

</body>
</html>